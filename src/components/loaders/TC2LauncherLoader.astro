---

---

<tclauncher-loader></tclauncher-loader>

<script>
  function refreshLauncherElements() {
    const urlparms = new URLSearchParams(window.location.search);
    const isLauncher = urlparms.get("launcher") === "1";

    const hideForLauncher = document.querySelectorAll(".hide-launcher");
    hideForLauncher.forEach((el) => {
      el.style.display = isLauncher ? "none" : "";
    });
    const showForLauncher = document.querySelectorAll(".show-launcher");
    showForLauncher.forEach((el) => {
      el.style.display = isLauncher ? "" : "none";
    });
  }

  class TC2LauncherLoader extends HTMLElement {
    async connectedCallback() {
      await new Promise(resolve => setTimeout(resolve, 0)).then(() => {
        if (document.readyState === "loading") {
          window.addEventListener("DOMContentLoaded", refreshLauncherElements);
        } else {
          refreshLauncherElements();
        }
      });
    }

    disconnectedCallback() {
      window.removeEventListener("DOMContentLoaded", refreshLauncherElements);
    }
  }

  if (!customElements.get("tclauncher-loader")) {
    customElements.define("tclauncher-loader", TC2LauncherLoader);
  }
</script>
